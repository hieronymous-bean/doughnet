<template>
  <div :class="isSidebarOpen ? sidebarOpen : sidebarClosed" class="">
    <div class="transform bg-theme-primary-lightest overflow-y-auto min-h-screen border-r" v-on:mouseover="mouseover" v-on:mouseleave="mouseleave">
      <div class="px-4 py-2 grid grid-cols-3">
        <div  class="col-span-2 text-theme-ghost-base">
          <div v-if="isSidebarOpen" class="font-semibold">Doughnet User</div>
          <div v-if="isSidebarOpen" class="font-semibold text-sm">{{ userEmail }}</div>
        </div>
        <div @click.prevent="toggleSidebarOpen" :class="isSidebarOpen ? sidebarToggleActive : sidebarToggleInctive" class="cursor-pointer">
          <transition name="fade">
            <div v-if="showCollapseIcon" class="flex justify-center">
              <svg class="block relative mx-auto fill-current text-theme-primary-base" xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24">
              <path d="M0 3.795l2.995-2.98 11.132 11.185-11.132 11.186-2.995-2.981 8.167-8.205-8.167-8.205zm18.04 8.205l-8.167 8.205 2.995 2.98 11.132-11.185-11.132-11.186-2.995 2.98 8.167 8.206z"/>
            </svg>
            </div>
          </transition>
        </div>
      </div>

      <nav class="mt-6 text-md text-primary-dark focus:outline-none">
        
        <router-link
          class="flex items-center text-center py-2 px-2 mx-3 my-2 rounded-lg outline-none focus:outline-none"
          :class="[$route.name === 'Dashboard' ? activeClass : inactiveClass, !isSidebarOpen ? 'justify-center' : '']"
          to="/dashboard"
        >
          <svg id="Capa_1" enable-background="new 0 0 512 512" height="25" viewBox="0 0 512 512" width="30" xmlns="http://www.w3.org/2000/svg"><g><path d="m467 17h-422c-24.813 0-45 20.187-45 45v292c0 24.813 20.187 45 45 45h145.293l-11 66h-19.293c-8.284 0-15 6.716-15 15s6.716 15 15 15h192c8.284 0 15-6.716 15-15s-6.716-15-15-15h-19.293l-11-66h145.293c24.813 0 45-20.187 45-45v-292c0-24.813-20.187-45-45-45zm-164.707 448h-92.586l11-66h70.586zm179.707-111c0 8.271-6.729 15-15 15-10.702 0-409.447 0-422 0-8.271 0-15-6.729-15-15v-292c0-8.271 6.729-15 15-15h196v17c0 8.284 6.716 15 15 15s15-6.716 15-15v-17h196c8.271 0 15 6.729 15 15z"/><path d="m208 209c-8.284 0-15 6.716-15 15v49h-34v-97c0-8.284-6.716-15-15-15s-15 6.716-15 15v97h-34v-145c0-8.284-6.716-15-15-15s-15 6.716-15 15v160c0 8.284 6.716 15 15 15h128c8.284 0 15-6.716 15-15v-64c0-8.284-6.716-15-15-15z"/><path d="m360 121c-47.972 0-87 39.028-87 87 0 23.627 9.472 45.081 24.813 60.775.689.787.656.749 1.411 1.411 15.694 15.341 37.148 24.814 60.776 24.814 47.972 0 87-39.028 87-87s-39.028-87-87-87zm54.983 72h-39.983v-39.983c19.391 5.296 34.687 20.592 39.983 39.983zm-69.983-39.983v48.77l-34.471 34.471c-18.545-32.339-1.316-73.466 34.471-83.241zm-13.258 104.454 34.471-34.471h48.77c-9.79 35.839-50.946 52.99-83.241 34.471z"/></g></svg>
          <span v-if="isSidebarOpen" class="text-md mx-2 pl-2">Dashboard</span>
        </router-link>
        
        <router-link
          class="flex items-center text-center py-2 px-2 mx-3 my-2 rounded-lg outline-none focus:outline-none"
          :class="[$route.name === 'Accounts' ? activeClass : inactiveClass, !isSidebarOpen ? 'justify-center' : '']"
          to="/accounts"
        >
          <svg height="25" viewBox="0 0 512 512" width="30" xmlns="http://www.w3.org/2000/svg"><path d="m202 452c-2.628906 0-5.210938 1.070312-7.070312 2.929688-1.859376 1.859374-2.929688 4.441406-2.929688 7.070312s1.070312 5.210938 2.929688 7.070312c1.859374 1.859376 4.441406 2.929688 7.070312 2.929688s5.210938-1.070312 7.070312-2.929688c1.859376-1.859374 2.929688-4.441406 2.929688-7.070312s-1.070312-5.210938-2.929688-7.070312c-1.859374-1.859376-4.441406-2.929688-7.070312-2.929688zm0 0"/><path d="m501.324219 136.320312c-14.210938-14.210937-37.332031-14.210937-51.542969 0l-45.78125 45.78125v-148.101562c0-18.746094-15.253906-34-34-34h-336c-18.746094 0-34 15.253906-34 34v444c0 18.746094 15.253906 34 34 34h336c18.746094 0 34-15.253906 34-34v-192.808594l97.324219-97.328125c14.210937-14.210937 14.210937-37.332031 0-51.542969zm-117.324219-102.320312v168.101562l-20 20v-172.101562c0-5.523438-4.476562-10-10-10h-66.832031v-20h82.832031c7.71875 0 14 6.28125 14 14zm-54.601562 274.246094 13.5-30.328125 16.828124 16.828125zm-62.230469-288.246094v40.75c0 6.203125-5.046875 11.25-11.25 11.25h-107.835938c-6.203125 0-11.25-5.046875-11.25-11.25v-40.75zm102.832031 472h-336c-7.71875 0-14-6.28125-14-14v-444c0-7.71875 6.28125-14 14-14h82.832031v20h-66.832031c-5.523438 0-10 4.476562-10 10v412c0 5.523438 4.476562 10 10 10h112c5.523438 0 10-4.476562 10-10s-4.476562-10-10-10h-102v-392h56.832031v.75c0 17.230469 14.019531 31.25 31.25 31.25h107.835938c17.230469 0 31.25-14.019531 31.25-31.25v-.75h56.832031v182.101562l-11.390625 11.386719c-.863281.867188-1.5625 1.886719-2.0625 3.003907l-30.015625 67.417968c-1.683594 3.785156-.863281 8.210938 2.0625 11.140625 1.917969 1.914063 4.476562 2.929688 7.074219 2.929688 1.375 0 2.757812-.28125 4.066406-.863281l30.265625-13.476563v128.359375h-102c-5.523438 0-10 4.476562-10 10s4.476562 10 10 10h112c5.519531 0 10-4.476562 10-10v-147.265625l17.152344-7.636719c1.054687-.46875 2.011718-1.121094 2.847656-1.921875v172.824219c0 7.71875-6.28125 14-14 14zm79.910156-281.007812-72.824218 72.828124-23.261719-23.261718 90.167969-90.167969 23.261718 23.261719zm37.273438-37.269532-5.789063 5.785156-23.257812-23.257812 5.785156-5.785156c6.414063-6.414063 16.847656-6.414063 23.261719 0 6.410156 6.410156 6.410156 16.84375 0 23.257812zm0 0"/><path d="m162 120h-64c-5.523438 0-10 4.476562-10 10v64c0 5.523438 4.476562 10 10 10h64c5.523438 0 10-4.476562 10-10v-64c0-5.523438-4.476562-10-10-10zm-10 64h-44v-44h44zm0 0"/><path d="m162 230h-64c-5.523438 0-10 4.476562-10 10v64c0 5.523438 4.476562 10 10 10h64c5.523438 0 10-4.476562 10-10v-64c0-5.523438-4.476562-10-10-10zm-10 64h-44v-44h44zm0 0"/><path d="m162 340h-64c-5.523438 0-10 4.476562-10 10v64c0 5.523438 4.476562 10 10 10h64c5.523438 0 10-4.476562 10-10v-64c0-5.523438-4.476562-10-10-10zm-10 64h-44v-44h44zm0 0"/><path d="m233.578125 191.644531c1.953125 1.953125 4.511719 2.929688 7.070313 2.929688 2.558593 0 5.117187-.976563 7.070312-2.929688l45.148438-45.148437c3.902343-3.902344 3.902343-10.234375 0-14.140625-3.90625-3.90625-10.238282-3.90625-14.144532 0l-38.074218 38.074219-15.175782-15.175782c-3.90625-3.90625-10.234375-3.90625-14.144531 0-3.902344 3.90625-3.902344 10.238282 0 14.140625zm0 0"/><path d="m233.578125 301.644531c1.875 1.875 4.417969 2.929688 7.070313 2.929688 2.652343 0 5.195312-1.054688 7.070312-2.929688l45.148438-45.144531c3.902343-3.90625 3.902343-10.238281 0-14.144531-3.90625-3.902344-10.238282-3.902344-14.144532 0l-38.074218 38.078125-15.175782-15.175782c-3.90625-3.90625-10.234375-3.90625-14.144531 0-3.902344 3.902344-3.902344 10.234376 0 14.140626zm0 0"/><path d="m252.097656 396.144531 15.503906 15.5c1.953126 1.953125 4.511719 2.929688 7.070313 2.929688s5.117187-.976563 7.070313-2.929688c3.90625-3.90625 3.90625-10.238281 0-14.140625l-15.5-15.503906 15.5-15.503906c3.90625-3.902344 3.90625-10.234375 0-14.140625s-10.234376-3.90625-14.140626 0l-15.503906 15.5-15.5-15.5c-3.90625-3.902344-10.234375-3.90625-14.144531 0-3.902344 3.90625-3.902344 10.238281 0 14.140625l15.503906 15.503906-15.503906 15.503906c-3.902344 3.902344-3.902344 10.234375 0 14.140625 1.953125 1.953125 4.515625 2.929688 7.074219 2.929688s5.117187-.976563 7.070312-2.929688zm0 0"/></svg>


          <span v-if="isSidebarOpen" class="mx-4">Accounts</span>
        </router-link>

        <router-link
          class="flex items-center py-3 px-2 mx-3 my-2 rounded-lg outline-none focus:outline-none"
          :class="[$route.name === 'Transactions' ? activeClass : inactiveClass, !isSidebarOpen ? 'justify-center' : '']"
          to="/transactions"
        >
          <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M22 3c.53 0 1.039.211 1.414.586s.586.884.586 1.414v14c0 .53-.211 1.039-.586 1.414s-.884.586-1.414.586h-20c-.53 0-1.039-.211-1.414-.586s-.586-.884-.586-1.414v-14c0-.53.211-1.039.586-1.414s.884-.586 1.414-.586h20zm1 8h-22v8c0 .552.448 1 1 1h20c.552 0 1-.448 1-1v-8zm-15 5v1h-5v-1h5zm13-2v1h-3v-1h3zm-10 0v1h-8v-1h8zm-10-6v2h22v-2h-22zm22-1v-2c0-.552-.448-1-1-1h-20c-.552 0-1 .448-1 1v2h22z"/></svg>
          <span v-if="isSidebarOpen" class="mx-2">Transactions</span>
        </router-link>

        <router-link
          class="flex items-center py-3 px-2 mx-3 my-2 rounded-lg outline-none focus:outline-none"
          :class="[$route.name === 'Tools' ? activeClass : inactiveClass, !isSidebarOpen ? 'justify-center' : '']"
          to="/tools"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6.914 2.741l15.557 15.556-4.243 4.243-15.556-15.557 4.242-4.242zm-.707-.707l-2.033-2.034-4.174 4.243 1.965 2.034 4.242-4.243zm12.821 21.119l4.972.847-.918-4.901-4.054 4.054zm-4.567-15.694l.389-.388.707.707.707-.707-.707-.707.707-.707.707.707.708-.708-.707-.706 2.121-2.121 2.121 2.121-4.631 4.631 1.393 1.393 6.024-6.024-4.908-4.95-6.045 6.045 1.414 1.414zm-4.949 9.193l-4.562 4.561-2.121-2.121.707-.708.707.707.707-.707-.707-.707.707-.707.707.707.707-.707-.707-.707.707-.707.707.707.707-.707-.707-.706.319-.319-1.415-1.415-5.975 5.976 4.95 4.908 5.955-5.955-1.393-1.393zm9.934-11.349c.195-.195.195-.512 0-.707s-.512-.195-.707 0-.195.512 0 .707.512.196.707 0z"/></svg>
          <span v-if="isSidebarOpen" class="mx-4">Tools</span>
        </router-link>

        <router-link
          class="flex items-center py-3 px-2 mx-3 my-2 rounded-lg outline-none focus:outline-none"
          :class="[$route.name === 'Bills' ? activeClass : inactiveClass, !isSidebarOpen ? 'justify-center' : '']"
          to="/bills"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21.155 8.64c-.909 1.519-2.327 3.067-4.097 3.004-.413.706-.852 1.677-1.339 2.803l-1.312.553c.936-2.343 2.231-4.961 3.698-6.994-.67.529-1.746 1.637-2.662 2.783-1.098-1.828-.3-3.691.973-5.179.021.641.359 1.196.601 1.475-.087-.53-.114-1.489.195-2.351.718-.732 1.364-1.271 2.113-1.76-.083.478.08 1.026.262 1.361.024-.49.224-1.43.521-1.84.924-.727 2.332-1.373 3.892-1.495-.081.973-.436 2.575-1.024 3.604-.515.404-1.221.68-1.791.833.493.089 1.031.077 1.494-.001-.269.743-.552 1.428-.998 2.276-.679.468-1.578.732-2.203.825.46.187 1.272.245 1.677.103zm-13.841 3.805l.645.781 4.773-2.791-.668-.768-4.75 2.778zm6.96-.238l-.668-.767-4.805 2.808.645.781 4.828-2.822zm4.679.007c-.421.203-.851.341-1.286.398-.12.231-.246.494-.377.773l.298.342c.623.692.459 1.704-.376 2.239-.773.497-5.341 3.376-6.386 4.035-.074-.721-.358-1.391-.826-1.948-.469-.557-6.115-7.376-7.523-9.178-.469-.6-.575-1.245-.295-1.816.268-.549.842-.918 1.43-.918.919 0 1.408.655 1.549 1.215.16.641-.035 1.231-.623 1.685l1.329 1.624 7.796-4.446c1.422-1.051 1.822-2.991.93-4.513-.618-1.053-1.759-1.706-2.978-1.706-1.188 0-.793-.016-9.565 4.475-1.234.591-2.05 1.787-2.05 3.202 0 .87.308 1.756.889 2.487 1.427 1.794 7.561 9.185 7.616 9.257.371.493.427 1.119.15 1.673-.277.555-.812.886-1.429.886-.919 0-1.408-.655-1.549-1.216-.156-.629.012-1.208.604-1.654l-1.277-1.545c-.822.665-1.277 1.496-1.377 2.442-.232 2.205 1.525 3.993 3.613 3.993.596 0 1.311-.177 1.841-.51l9.427-5.946c.957-.664 1.492-1.781 1.492-2.897 0-.745-.24-1.454-.688-2.003l-.359-.43zm-7.933-10.062c.188-.087.398-.134.609-.134.532 0 .997.281 1.243.752.312.596.226 1.469-.548 1.912l-5.097 2.888c-.051-1.089-.579-2.081-1.455-2.732l5.248-2.686zm2.097 13.383l.361-.905.249-.609-3.449 2.017.645.781 2.194-1.284z"/></svg>
          <span v-if="isSidebarOpen"  class="mx-4">Bills</span>
        </router-link>

        <router-link
          class="flex items-center py-3 px-2 mx-3 my-2 rounded-lg outline-none focus:outline-none"
          :class="[$route.name === 'Budgets' ? activeClass : inactiveClass, !isSidebarOpen ? 'justify-center' : '']"
          to="/budgets"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14.666 8.334v3.666l1.463-2.215-1.463-1.451zm-3.092 4.167c.66-.384 1.242-.864 1.758-1.447v1.369c-.445.393-.926.731-1.449 1.018l-.309-.94zm-3.255 2.041c-.652.083-1.57.125-2.319.125v-.97c.688 0 1.551-.037 2.152-.113l.167.958zm2.789-.725l-.036.015c-.586.246-1.22.437-1.91.573l-.167-.958c.655-.131 1.257-.315 1.809-.556l.304.926zm10.892-13.817l-3 11-4.064-3.62 3.9-4.117-5.229 3.614-3.607-.877 12-6zm-3.015 14.779c0 4.546-5.777 9.221-8.221 9.221h-8.764v-22h11.527l-4 2h-5.527v18h5.938c4.155 0 2.638-6 2.638-6 3.349.921 6.003.403 6.003-3.21.28.65.406 1.318.406 1.989z"/></svg>
          <span v-if="isSidebarOpen"  class="mx-4">Budgets</span>
        </router-link>

        <router-link
          class="flex items-center p-2 mx-3 my-2 rounded-sm outline-none focus:outline-none"
          :class="[$route.name === 'Goals' ? activeClass : inactiveClass, !isSidebarOpen ? 'justify-center' : '']"
          to="/goals"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13.931 10.245l2.021-2.042-2.778-.403-1.223-2.653-1.222 2.653-2.778.402 2.021 2.042-.492 2.903 2.471-1.391 2.472 1.391-.492-2.902zm-9.481 4.518c-.866-1.382-1.374-3.012-1.374-4.763 0-4.971 4.029-9 9-9s9 4.029 9 9c0 1.792-.53 3.458-1.433 4.861-.607-.31-1.228-.585-1.862-.819.812-1.143 1.295-2.536 1.295-4.042 0-3.86-3.141-7-7-7s-7 3.14-7 7c0 1.476.462 2.844 1.244 3.974-.636.225-1.26.488-1.87.789zm15.307 2.45l-2.334 3.322c-1.603-.924-3.448-1.464-5.423-1.473-1.975.009-3.82.549-5.423 1.473l-2.334-3.322c2.266-1.386 4.912-2.202 7.757-2.211 2.845.009 5.491.825 7.757 2.211zm4.243 2.787h-2.359l-.566 3c-.613-1.012-1.388-1.912-2.277-2.68l2.343-3.335c1.088.879 2.052 1.848 2.859 3.015zm-21.14-3.015l2.343 3.335c-.89.769-1.664 1.668-2.277 2.68l-.566-3h-2.36c.807-1.167 1.771-2.136 2.86-3.015z"/></svg>
          <span v-if="isSidebarOpen"  class="mx-4">Goals</span>
        </router-link>
      </nav>
        

    </div>
  </div>
</template>
<style>
  
  .fade-enter-active, .fade-leave-active {
  transition: opacity .1s ease;
}

.fade-enter-from, .fade-leave-to {
  opacity: 0;
}

</style>
<script>
export default {
    data: function() {
      return {
        activeClass: 'text-white-base bg-theme-primary-base font-semibold fill-current focus:outline-none transition duration-300 ease-in-out',
        inactiveClass: 'font-semibold fill-current text-gray-base focus:outline-none transition duration-200 ease-in-out',
        isSidebarOpen: true,
        sidebarOpen: 'w-72 transform translate-x-0 transition duration-500 ease-in-out',
        sidebarClosed: 'w-20 transition duration-500 ease-in-out',
        sidebarToggleActive: 'absolute right-2 top-5 transform rotate-180',
        sidebarToggleInctive: 'absolute right-1/3 top-2 p-2',
        showCollapseIcon: false
      }
    },
    components: {
    },
    props: [
    ],
    methods: {
      toggleSidebarOpen: function() {
        this.isSidebarOpen = !this.isSidebarOpen
        console.log(this.isSidebarOpen)
      },
      mouseover: function(){
        this.showCollapseIcon = true
      },    
      mouseleave: function(){
        this.showCollapseIcon = false
      }
    },
    computed: {
      userEmail: function() {
        return this.$store.state.user.email
      }
    }
}
</script>